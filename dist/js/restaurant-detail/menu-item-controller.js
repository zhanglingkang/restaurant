/*! ppz_website 2015-01-12 6:55:00 PM */
"use strict";define(function(a){var b=a("app");a("./menu-service"),b.controller("menuItemController",["$scope","menuService",function(a,b){a.editing=!1,a.newItem=angular.copy(a.item),a.editItem=function(){a.editing||(a.editing=!0)},a.confirmEditItem=function(){a.editMenuItemStatus=a.REQUEST_STATUS.REQUESTING,b.modifyMenuItem({itemId:a.newItem.itemId,itemName:a.newItem.itemName,itemDescription:a.newItem.itemDescription,price:a.newItem.price,categoryId:a.category.categoryId},a.menu.restaurantId).then(function(){a.editMenuItemStatus=a.REQUEST_STATUS.REQUEST_SUCCESSED,a.item.itemName=a.newItem.itemName,a.item.itemDescription=a.newItem.itemDescription,a.item.price=a.newItem.price,a.editing=!1},function(){a.editMenuItemStatus=a.REQUEST_STATUS.REQUEST_FAILED})},a.cancelEditItem=function(){a.newItem=angular.copy(a.item),a.editing=!1},a.removeItem=function(){b.removeMenuItem({itemId:a.item.itemId,categoryId:a.category.categoryId},a.menu.restaurantId).then(function(){a.category.items=a.category.items.filter(function(b){return b.itemId!==a.item.itemId})})}}])});