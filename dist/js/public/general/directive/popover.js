/*! ppz_website 2015-01-12 6:55:00 PM */
"use strict";define(function(a){var b=a("app"),c=a("public/general/util");b.directive("selfPopover",["$compile",function(a){return{restrict:"E",terminal:!0,scope:!0,link:function(b,d,e){function f(a){if(h.data("bs.popover")){var b=h.data("bs.popover").$tip[0];b&&!$.contains(b,a.target)&&h.popover("hide")}}var g=$(d),h=g.parent(),i=e.style||"",j='<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content" ></div></div>';j=j.replace(/(?=class=['"]popover-content['"])/,"style='"+i+"' "),b.close=!1,b.$watch("close",function(){b.close&&(h.popover("hide"),b.close=!1)}),e.relatedTarget&&(h="parent"===e.context?g.parent().find(e.relatedTarget):$(e.relatedTarget)),g.children().addClass("ng-cloak"),g.remove(),h.attr("data-toggle","popover"),h.popover({html:!0,content:g.html(),container:e.container,placement:e.placement||"top",template:j}),h.on("shown.bs.popover",function(){var c=h.data("bs.popover").$tip.find(".popover-content");a(c.children())(b.$parent),"autoClose"in e&&$(document).bind("click",f),b.$emit("")}),h.on("hidden.bs.popover",function(){$(document).unbind("click",f)}),b.$on("closePopover",function(a,b){b===e.name&&h.popover("hide")});var k={close:function(){b.close=!0}};if("name"in e){var l=e.name;"object"in e&&(l=e.object+"."+e.name),c.setPropertyValue(b.$parent,l,k)}}}}])});