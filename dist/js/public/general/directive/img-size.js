/*! ppz_website 2015-02-05 3:20:31 PM */
"use strict";define("public/general/directive/img-size",["app","public/general/form-validation"],function(a){var b=a("app"),c=a("public/general/form-validation");b.directive("imgSize",function(){return{restrict:"A",link:function(a,b,d){{var e=$(b),f=angular.element(b).parent("form").scope(),g=e.parents("form").prop("name"),h=e.prop("name"),i=f[g][h];i.$error}e.bind("change",function(){function a(){var a=b+"*"+j;f.$apply(function(){f[g][h].$error.imgSize=a!==d.imgSize.trim()?!0:!1,c.setFieldValidation(i),c.setFormValidataion(f[g])})}var b,j,k=e[0].files[0];if(k&&-1!=k.type.indexOf("image")){var l=new Image,m=new FileReader;l.onload=function(){b=l.naturalWidth,j=l.naturalHeight,a()},m.addEventListener("load",function(a){l.src=a.target.result}),m.readAsDataURL(k)}else f.$apply(function(){f[g][h].$error.imgSize=!1,c.setFieldValidation(i),c.setFormValidataion(f[g])})})}}})});